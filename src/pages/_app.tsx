import { type AppType } from "next/app";

import { api } from "~/utils/api";

import "~/styles/globals.css";
import dynamic from 'next/dynamic';

const NonSSRWrapper = ({ children }: any) => (<>{children}</>);

const ComponentWithNoSSR = dynamic(() => Promise.resolve(NonSSRWrapper), {
    ssr: false,
    loading: () => <p>Loading...</p>,
});

const MyApp: AppType = ({ Component, pageProps }) => {
  return (
    <ComponentWithNoSSR>
      <Component {...pageProps} />
    </ComponentWithNoSSR>
  );
};

export default api.withTRPC(MyApp);
